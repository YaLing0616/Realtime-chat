{"version":3,"sources":["serviceWorker.js","components/login/login.js","components/signup/styles.js","components/signup/signup.js","components/dashboard/dashboard.js","index.js"],"names":["Boolean","window","location","hostname","match","Login","Component","styles","theme","main","width","display","marginLeft","spacing","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","form","submit","hasAccountHeader","logInLink","textDecoration","color","fontWeight","errorText","textAlign","firebase","require","SignUp","userTyping","type","e","setState","email","target","value","password","passwordConfirmation","submitSignup","preventDefault","formIsValid","auth","createUserWithEmailAndPassword","state","then","authRes","console","log","userObj","uid","user","firestore","collection","doc","set","props","history","push","dbError","signupError","authError","classes","this","className","CssBaseline","Paper","Typography","component","variant","onSubmit","FormControl","required","fullWidth","margin","InputLabel","htmlFor","Input","autoComplete","onChange","autoFocus","id","Button","to","withStyles","Dashboard","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","routing","path","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.d458c19a.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { Component } from 'react';\n\nclass Login extends Component {\n    render() {\n        return(\n            <div>\n                Hello World From Login\n            </div>\n        );\n    }\n}\n\nexport default Login;","const styles = theme => ({\n    main: {\n      width: 'auto',\n      display: 'block', // Fix IE 11 issue.\n      marginLeft: theme.spacing(1) * 3,\n      marginRight: theme.spacing(1) * 3,\n      [theme.breakpoints.up(400 + theme.spacing(1) * 3 * 2)]: {\n        width: 400,\n        marginLeft: 'auto',\n        marginRight: 'auto',\n      },\n    },\n    paper: {\n      marginTop: theme.spacing(1) * 8,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: `${theme.spacing(1) * 2}px ${theme.spacing(1) * 3}px ${theme.spacing(1) * 3}px`,\n    },\n    form: {\n      width: '100%',\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      marginTop: theme.spacing(1) * 3,\n    },\n    hasAccountHeader: {\n      width: '100%'\n    },\n    logInLink: {\n      width: '100%',\n      textDecoration: 'none',\n      color: '#303f9f',\n      fontWeight: 'bolder'\n    },\n    errorText: {\n      color: 'red',\n      textAlign: 'center'\n    }\n  });\n  \n  export default styles;","import React, { Component } from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport Paper from '@material-ui/core/Paper';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport styles from './styles';\nimport { Link } from 'react-router-dom';\n\nconst firebase = require(\"firebase\");\n\nclass SignUp extends Component {\n    constructor() {\n        super();\n        this.state = {\n            email: null,\n            password: null,\n            passwordConfirmation: null,\n            signupError: ''\n        };\n    }\n\n    userTyping = (type, e) => {\n        switch (type) {\n            case 'email':\n                this.setState({\n                    email: e.target.value,\n                });\n                break;\n            \n            case 'password':\n                this.setState({\n                    password: e.target.value,\n                });\n                break;\n\n            case 'passwordConfirmation':\n                this.setState({\n                    passwordConfirmation: e.target.value,\n                });\n                break;\n    \n            default:\n                break;\n        }\n    }\n\n    submitSignup = (e) => {\n        e.preventDefault();\n        if(!this.formIsValid()) {\n            this.setState({\n                signupError: '密碼確認錯誤，請重新輸入！',\n            });\n            return;\n        }\n\n        firebase\n            .auth().createUserWithEmailAndPassword(this.state.email, this.state.password)\n            .then(authRes => {\n                console.log(authRes);\n                const userObj = {\n                    uid: authRes.user.uid,\n                    email: authRes.user.email,\n                };\n            firebase\n                .firestore()\n                .collection('users')\n                .doc(this.state.email)\n                .set(userObj)\n                .then(() => {\n                    this.props.history.push('/Realtime-chat/dashboard')\n                }, dbError => {\n                    console.log(dbError);\n                    this.setState({\n                        signupError: 'Failed to add user!'\n                    });\n                })\n            }, authError => {\n                console.log(authError);\n                this.setState({\n                    signupError: 'Failed to add user!'\n                });\n            })\n    }\n\n    formIsValid = () => this.state.password === this.state.passwordConfirmation;\n\n    render() {\n        const { classes } = this.props;\n        return(\n            <main className={classes.main}>\n                <CssBaseline></CssBaseline>\n                <Paper className={classes.paper}>\n                    <Typography component='h1' variant='h5'>\n                        註冊!\n                    </Typography>\n                    <form onSubmit={(e) => this.submitSignup(e)} className={classes.form}>\n                        <FormControl required fullWidth margin='normal'>\n                            <InputLabel htmlFor='signup-email-input'>請輸入信箱</InputLabel>\n                            <Input autoComplete='email' onChange={(e) => this.userTyping('email', e)} autoFocus id='signup-email-input'></Input>\n                        </FormControl>\n                        <FormControl required fullWidth margin='normal'>\n                            <InputLabel htmlFor='signup-password-input'>請輸入密碼</InputLabel>\n                            <Input type='password' onChange={(e) => this.userTyping('password', e)} autoFocus id='signup-password-input'></Input>\n                        </FormControl>\n                        <FormControl required fullWidth margin='normal'>\n                            <InputLabel htmlFor='signup-password-confirmation-input'>再次確認密碼</InputLabel>\n                            <Input type='password' onChange={(e) => this.userTyping('passwordConfirmation', e)} autoFocus id='signup-password-confirmation-input'></Input>\n                        </FormControl>\n                        <Button type='submit' fullWidth variant='contained' color='primary' className={classes.submit}>送出</Button>\n                    </form>\n                    {this.state.signupError\n                    ?\n                        <Typography className={classes.errorText}>\n                            {this.state.signupError}\n                        </Typography>\n                    :\n                        null\n                    }\n                    <Typography className={classes.hasAccountHeader}>已經有帳號了？</Typography>\n                    <Link className={classes.logInLink} to='/Realtime-chat/login'>Login</Link>\n                </Paper>\n            </main>\n        );\n    }\n}\n\nexport default withStyles(styles)(SignUp);","import React, { Component } from 'react';\n\nclass Dashboard extends Component {\n    render() {\n        return(\n            <div>\n\n            </div>\n        );\n    }\n}\n\nexport default Dashboard;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport firebase from 'firebase/app';\n\nimport Login from './components/login/login';\nimport SignUp from './components/signup/signup';\nimport Dashboard from './components/dashboard/dashboard';\n\nfirebase.initializeApp({\n    apiKey: \"AIzaSyCcyufPWaWOcLvbBPgBArNMH5Q_gi9oBAY\",\n    authDomain: \"realtime-chat-2598f.firebaseapp.com\",\n    databaseURL: \"https://realtime-chat-2598f.firebaseio.com\",\n    projectId: \"realtime-chat-2598f\",\n    storageBucket: \"realtime-chat-2598f.appspot.com\",\n    messagingSenderId: \"644826752739\",\n    appId: \"1:644826752739:web:9912f44a709048c9e947d6\",\n    measurementId: \"G-MB5NYNLCK2\"\n});\n\nconst routing = (\n    <Router>\n        <div id='routing-container'>\n            <Route path='/Realtime-chat/login' component={Login} />\n            <Route path='/Realtime-chat/signup' component={SignUp} />\n            <Route path='/Realtime-chat/dashboard' component={Dashboard} />\n        </div>\n    </Router>\n);\n\nReactDOM.render(routing, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}